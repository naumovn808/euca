{"version":3,"file":"setupModals.js","mappings":";;;;;;;;;;;;;AAAO,SAAS,cAAc;AAC7B,QAAM,eAAe,SAAS,iBAAiB,qBAAqB;AACpE,QAAM,SAAS,SAAS,iBAAiB,cAAc;AACvD,MAAI,cAAc;AAElB,eAAa,QAAQ,YAAU;AAC9B,WAAO,iBAAiB,SAAS,MAAM;AACtC,YAAM,gBAAgB,OAAO,QAAQ;AACrC,YAAM,cAAc,SAAS,cAAc,gBAAgB,aAAa,IAAI;AAC5E,cAAQ,IAAI,MAAM;AAElB,UAAI,aAAa;AAChB,eAAO,QAAQ,WAAS;AACvB,cAAI,UAAU,eAAe,MAAM,UAAU,SAAS,MAAM,GAAG;AAC9D,kBAAM,UAAU,OAAO,MAAM;AAAA,UAC9B;AAAA,QACD,CAAC;AAED,YAAI,eAAe,gBAAgB,aAAa;AAC/C,sBAAY,UAAU,OAAO,MAAM;AAAA,QACpC;AACA,oBAAY,UAAU,OAAO,MAAM;AAEnC,sBAAc,YAAY,UAAU,SAAS,MAAM,IAAI,cAAc;AAGrE,YAAI,eAAe,kBAAkB,YAAY;AAChD,mBAAS,KAAK,UAAU,IAAI,YAAY;AAAA,QACzC,OAAO;AACN,mBAAS,KAAK,UAAU,OAAO,YAAY;AAAA,QAC5C;AAAA,MACD,OAAO;AACN,gBAAQ,MAAM,8FAAwB,aAAa,4DAAe;AAAA,MACnE;AAAA,IACD,CAAC;AAAA,EACF,CAAC;AACD,SAAO,QAAQ,WAAS;AACvB,UAAM,iBAAiB,SAAS,CAAC,UAAU;AAC1C,UAAI,MAAM,OAAO,UAAU,SAAS,eAAe,GAAG;AACrD,cAAM,UAAU,OAAO,MAAM;AAC7B,iBAAS,KAAK,UAAU,OAAO,YAAY;AAC3C,sBAAc;AAAA,MACf;AAAA,IACD,CAAC;AAAA,EACF,CAAC;AACD,QAAM,eAAe,SAAS,iBAAiB,oBAAoB;AAEnE,eAAa,QAAQ,iBAAe;AACnC,gBAAY,iBAAiB,SAAS,MAAM;AAC3C,YAAM,gBAAgB,YAAY,QAAQ;AAC1C,YAAM,cAAc,SAAS,cAAc,gBAAgB,aAAa,IAAI;AAE5E,UAAI,aAAa;AAChB,oBAAY,UAAU,OAAO,MAAM;AACnC,iBAAS,KAAK,UAAU,OAAO,YAAY;AAC3C,sBAAc;AAAA,MACf,OAAO;AACN,gBAAQ,MAAM,8FAAwB,aAAa,4DAAe;AAAA,MACnE;AAAA,IACD,CAAC;AAAA,EACF,CAAC;AAED,WAAS,iBAAiB,WAAW,CAAC,UAAU;AAC/C,QAAI,MAAM,QAAQ,UAAU;AAC3B,UAAI,aAAa;AAChB,oBAAY,UAAU,OAAO,MAAM;AACnC,iBAAS,KAAK,UAAU,OAAO,YAAY;AAC3C,sBAAc;AAAA,MACf;AAAA,IACD,WAAW,MAAM,QAAQ,OAAO;AAC/B,YAAMA,eAAc,SAAS,cAAc,qBAAqB;AAEhE,UAAIA,cAAa;AAChB,cAAM,eAAe;AAErB,cAAM,oBAAoBA,aAAY;AAAA,UACrC;AAAA,QACD;AAEA,YAAI,sBAAsB,MAAM,KAAK,iBAAiB,EAAE,QAAQ,SAAS,aAAa;AAEtF,YAAI;AACJ,YAAI,MAAM,UAAU;AACnB,iCAAuB,mBAAmB,sBAAsB,IAAI,kBAAkB,UAAU,kBAAkB,MAAM;AAAA,QACzH,OAAO;AACN,iCAAuB,mBAAmB,sBAAsB,KAAK,kBAAkB,MAAM;AAAA,QAC9F;AAEA,YAAI,sBAAsB;AACzB,+BAAqB,MAAM;AAAA,QAC5B;AAAA,MACD;AAAA,IACD;AAAA,EAGD,CAAC;AAGF","sources":["webpack:///./modals/modals.js"],"sourcesContent":["export function setupModals() {\r\n\tconst modalButtons = document.querySelectorAll('[data-modal-target]');\r\n\tconst modals = document.querySelectorAll('[data-modal]');\r\n\tlet activeModal = null;\r\n\r\n\tmodalButtons.forEach(button => {\r\n\t\tbutton.addEventListener('click', () => {\r\n\t\t\tconst targetModalId = button.dataset.modalTarget;\r\n\t\t\tconst targetModal = document.querySelector(`[data-modal=\"${targetModalId}\"]`);\r\n\t\t\tconsole.log('test');\r\n\r\n\t\t\tif (targetModal) {\r\n\t\t\t\tmodals.forEach(modal => {\r\n\t\t\t\t\tif (modal !== targetModal && modal.classList.contains('open')) {\r\n\t\t\t\t\t\tmodal.classList.remove('open');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (activeModal && activeModal !== targetModal) {\r\n\t\t\t\t\tactiveModal.classList.remove('open');\r\n\t\t\t\t}\r\n\t\t\t\ttargetModal.classList.toggle('open');\r\n\r\n\t\t\t\tactiveModal = targetModal.classList.contains('open') ? targetModal : null;\r\n\r\n\r\n\t\t\t\tif (activeModal && targetModalId !== 'dropdown') {\r\n\t\t\t\t\tdocument.body.classList.add('modal-open');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdocument.body.classList.remove('modal-open');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconsole.error(`Модальное окно с id \"${targetModalId}\" не найдено.`);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\tmodals.forEach(modal => {\r\n\t\tmodal.addEventListener('click', (event) => {\r\n\t\t\tif (event.target.classList.contains('modal-overlay')) {\r\n\t\t\t\tmodal.classList.remove('open');\r\n\t\t\t\tdocument.body.classList.remove('modal-open');\r\n\t\t\t\tactiveModal = null;\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\tconst closeButtons = document.querySelectorAll('[data-modal-close]');\r\n\r\n\tcloseButtons.forEach(closeButton => {\r\n\t\tcloseButton.addEventListener('click', () => {\r\n\t\t\tconst targetModalId = closeButton.dataset.modalClose;\r\n\t\t\tconst targetModal = document.querySelector(`[data-modal=\"${targetModalId}\"]`);\r\n\r\n\t\t\tif (targetModal) {\r\n\t\t\t\ttargetModal.classList.remove('open');\r\n\t\t\t\tdocument.body.classList.remove('modal-open');\r\n\t\t\t\tactiveModal = null;\r\n\t\t\t} else {\r\n\t\t\t\tconsole.error(`Модальное окно с id \"${targetModalId}\" не найдено.`);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\tdocument.addEventListener('keydown', (event) => {\r\n\t\tif (event.key === 'Escape') {\r\n\t\t\tif (activeModal) {\r\n\t\t\t\tactiveModal.classList.remove('open');\r\n\t\t\t\tdocument.body.classList.remove('modal-open');\r\n\t\t\t\tactiveModal = null;\r\n\t\t\t}\r\n\t\t} else if (event.key === 'Tab') {\r\n\t\t\tconst activeModal = document.querySelector('.modal-overlay.open');\r\n\r\n\t\t\tif (activeModal) {\r\n\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\tconst focusableElements = activeModal.querySelectorAll(\r\n\t\t\t\t\t'button, a[href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\r\n\t\t\t\t);\r\n\r\n\t\t\t\tlet focusedElementIndex = Array.from(focusableElements).indexOf(document.activeElement);\r\n\r\n\t\t\t\tlet nextFocusableElement;\r\n\t\t\t\tif (event.shiftKey) {\r\n\t\t\t\t\tnextFocusableElement = focusableElements[(focusedElementIndex - 1 + focusableElements.length) % focusableElements.length];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnextFocusableElement = focusableElements[(focusedElementIndex + 1) % focusableElements.length];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (nextFocusableElement) {\r\n\t\t\t\t\tnextFocusableElement.focus();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t})\r\n\r\n\r\n}\r\n"],"names":["activeModal"],"sourceRoot":""}